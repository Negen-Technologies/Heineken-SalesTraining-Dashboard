{"ast":null,"code":"import axios from \"axios\";\nimport URLst, { handle401 } from \"../../utils/constants\";\nimport * as actionTypes from \"./EditProfileActionTypes\";\nexport var editProfilePending = function editProfilePending() {\n  return {\n    type: actionTypes.EDIT_PROFILE_PENDING,\n    isPending: true\n  };\n};\nexport var editProfileSuccess = function editProfileSuccess() {\n  return {\n    type: actionTypes.EDIT_PROFILE_SUCCESS,\n    isPending: false\n  };\n};\nexport var editProfileFail = function editProfileFail(error) {\n  return {\n    type: actionTypes.EDIT_PROFILE_FAILED,\n    error: error,\n    isPending: false\n  };\n};\nexport var editProfileAction = function editProfileAction(values) {\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch) {\n    dispatch(editProfilePending());\n    axios({\n      method: \"Patch\",\n      url: URLst + \"api/v1/users/updateMe\",\n      data: {\n        name: values.name,\n        username: values.username,\n        email: values.email,\n        password: value.password,\n        url: values.url\n      },\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      dispatch(authSuccess(token, res.data.data));\n      dispatch(editProfileSuccess());\n    })[\"catch\"](function (err) {\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      var errorData;\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      dispatch(editProfileFail(errorData));\n    });\n  };\n};","map":{"version":3,"sources":["/home/eleni/Desktop/heniken/Heineken-SalesTraining-Dashboard/store/Profile/EditProfileAction.js"],"names":["axios","URLst","handle401","actionTypes","editProfilePending","type","EDIT_PROFILE_PENDING","isPending","editProfileSuccess","EDIT_PROFILE_SUCCESS","editProfileFail","error","EDIT_PROFILE_FAILED","editProfileAction","values","token","localStorage","getItem","dispatch","method","url","data","name","username","email","password","value","headers","Authorization","then","res","authSuccess","err","response","code","errorData","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,uBAAjC;AACA,OAAO,KAAKC,WAAZ,MAA6B,0BAA7B;AAGA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AACtC,SAAO;AACLC,IAAAA,IAAI,EAAEF,WAAW,CAACG,oBADb;AAELC,IAAAA,SAAS,EAAE;AAFN,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AACtC,SAAO;AACLH,IAAAA,IAAI,EAAEF,WAAW,CAACM,oBADb;AAELF,IAAAA,SAAS,EAAE;AAFN,GAAP;AAID,CALM;AAOP,OAAO,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACxC,SAAO;AACLN,IAAAA,IAAI,EAAEF,WAAW,CAACS,mBADb;AAELD,IAAAA,KAAK,EAAEA,KAFF;AAGLJ,IAAAA,SAAS,EAAE;AAHN,GAAP;AAKD,CANM;AAQP,OAAO,IAAMM,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,MAAD,EAAY;AAC3C,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AAEA,SAAO,UAACC,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACd,kBAAkB,EAAnB,CAAR;AACAJ,IAAAA,KAAK,CAAC;AACJmB,MAAAA,MAAM,EAAE,OADJ;AAEJC,MAAAA,GAAG,EAAEnB,KAAK,0BAFN;AAGJoB,MAAAA,IAAI,EAAE;AACJC,QAAAA,IAAI,EAAER,MAAM,CAACQ,IADT;AAEJC,QAAAA,QAAQ,EAAET,MAAM,CAACS,QAFb;AAGJC,QAAAA,KAAK,EAAEV,MAAM,CAACU,KAHV;AAIJC,QAAAA,QAAQ,EAAEC,KAAK,CAACD,QAJZ;AAKJL,QAAAA,GAAG,EAAEN,MAAM,CAACM;AALR,OAHF;AAWJO,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYb,KAAZ;AADN;AAXL,KAAD,CAAL,CAeGc,IAfH,CAeQ,UAACC,GAAD,EAAS;AACbZ,MAAAA,QAAQ,CAACa,WAAW,CAAChB,KAAD,EAAQe,GAAG,CAACT,IAAJ,CAASA,IAAjB,CAAZ,CAAR;AAEAH,MAAAA,QAAQ,CAACV,kBAAkB,EAAnB,CAAR;AACD,KAnBH,WAoBS,UAACwB,GAAD,EAEP;AACE,UAAIA,GAAG,CAACC,QAAJ,CAAaZ,IAAb,CAAkBa,IAAlB,IAA0B,GAA9B,EAAmC;AACjChC,QAAAA,SAAS;AACV;;AACD,UAAIiC,SAAJ;;AACA,UAAIH,GAAG,CAACC,QAAJ,IAAgB,IAApB,EAA0B;AACxBE,QAAAA,SAAS,GAAGH,GAAG,CAACC,QAAJ,CAAaZ,IAAb,CAAkBe,OAA9B;AACD,OAFD,MAEO;AACLD,QAAAA,SAAS,GAAGH,GAAG,CAACI,OAAhB;AACD;;AACDlB,MAAAA,QAAQ,CAACR,eAAe,CAACyB,SAAD,CAAhB,CAAR;AACD,KAjCH;AAkCD,GApCD;AAqCD,CAxCM","sourcesContent":["import axios from \"axios\";\nimport URLst, { handle401 } from \"../../utils/constants\";\nimport * as actionTypes from \"./EditProfileActionTypes\";\n\n\nexport const editProfilePending = () => {\n  return {\n    type: actionTypes.EDIT_PROFILE_PENDING,\n    isPending: true,\n  };\n};\n\nexport const editProfileSuccess = () => {\n  return {\n    type: actionTypes.EDIT_PROFILE_SUCCESS,\n    isPending: false,\n  };\n};\n\nexport const editProfileFail = (error) => {\n  return {\n    type: actionTypes.EDIT_PROFILE_FAILED,\n    error: error,\n    isPending: false,\n  };\n};\n\nexport const editProfileAction = (values) => {\n  var token = localStorage.getItem(\"token\");\n\n  return (dispatch) => {\n    dispatch(editProfilePending());\n    axios({\n      method: \"Patch\",\n      url: URLst + `api/v1/users/updateMe`,\n      data: {\n        name: values.name,\n        username: values.username,\n        email: values.email,\n        password: value.password,\n        url: values.url,\n      },\n\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        dispatch(authSuccess(token, res.data.data));\n\n        dispatch(editProfileSuccess());\n      })\n      .catch((err) => \n    \n      {\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n        var errorData;\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        dispatch(editProfileFail(errorData));\n      });\n  };\n};"]},"metadata":{},"sourceType":"module"}