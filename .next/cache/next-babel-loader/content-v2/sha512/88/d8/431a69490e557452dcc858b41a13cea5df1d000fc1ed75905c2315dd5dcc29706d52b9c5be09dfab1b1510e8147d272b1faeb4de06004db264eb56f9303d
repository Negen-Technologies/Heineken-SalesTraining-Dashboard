{"ast":null,"code":"import \"antd/lib/space/style\";\nimport _Space from \"antd/lib/space\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"/home/eleni/Desktop/heniken/Heineken-SalesTraining-Dashboard/Components/ProfilePage/ProfileLayout.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { EditOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { editProfileAction } from \"../../store/Profile/EditProfileAction\"; // import withAuth from \"../utils/protectRoute\";\n\nimport URLst, { primary_color } from \"../utils/constants\";\nimport FormData from \"form-data\";\n\nfunction ProfileLayout({\n  editProfileData,\n  userData,\n  editProfile\n}) {\n  const {\n    0: fileList,\n    1: setFileList\n  } = useState([]); //   const [uploading, setUploading] = useState(false);\n  //   const [imageFile, setImageFile] = useState(\"\");\n  //   const [imageUrl, setImageUrl] = useState(\"\");\n\n  const [form] = _Form.useForm();\n\n  const formData = new FormData();\n  const router = useRouter();\n  useEffect(() => {\n    if (userData.token) {\n      form.setFieldsValue({\n        name: userData.data.name,\n        username: userData.data.username,\n        email: userData.data.email,\n        password: userData.data.password\n      });\n    }\n  }); //   const onUploadSuccess = (image) => {\n  //     setFileList([]);\n  //     image.status = \"done\";\n  //     image.url = imageUrl;\n  //     image.thumbUrl = imageUrl;\n  //     image.percent = 100;\n  //     const newFileList = [image];\n  //     setFileList(newFileList);\n  //   };\n  //   const onUploadError = (image) => {\n  //     setFileList([]);\n  //     image.status = \"error\";\n  //     image.url = \"\";\n  //     image.thumbUrl = \"\";\n  //     image.percent = 0;\n  //     const newFileList = [image];\n  //     setFileList(newFileList);\n  //   };\n  //   const uploadImg = async (image) => {\n  //     if (image == null) return;\n  //     setImageUrl(\"Getting Download Link...\");\n  //     storage\n  //       .ref(`/images/${image.name}`)\n  //       .put(image)\n  //       .then(() => {\n  //         storage\n  //           .ref(\"images\")\n  //           .child(image.name)\n  //           .getDownloadURL()\n  //           .then((url) => {\n  //             setImageUrl(url);\n  //             onUploadSuccess(image);\n  //             setUploading(false);\n  //           })\n  //           .catch((err) => {\n  //             setImageUrl(\"\");\n  //             onUploadError(image);\n  //             setUploading(false);\n  //           });\n  //       });\n  //   };\n  //   const props = {\n  //     onRemove: (file) => {\n  //       setFileList([]);\n  //     },\n  //     onChange: (info) => {\n  //       setUploading(true);\n  //       setFileList([]);\n  //       uploadImg(info.file);\n  //     },\n  //     beforeUpload: async (file) => {\n  //       setImageFile(URL.createObjectURL(file));\n  //     },\n  //     fileList,\n  //   };\n\n  function success() {\n    _Modal.success({\n      title: editProfileData.message\n    });\n  }\n\n  if (editProfileData.message) {\n    success();\n  }\n\n  const onSubmit = checkedValues => {\n    checkedValues[\"url\"] = imageUrl;\n    editProfile(checkedValues);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 18,\n        xs: 24,\n        sm: 24,\n        md: 18,\n        lg: 18,\n        xl: 18,\n        xxl: 18,\n        style: {\n          padding: \"0px 50px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: 20,\n            fontWeight: 600,\n            color: primary_color\n          },\n          children: \"User Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"auto\",\n            backgroundColor: primary_color,\n            height: \"2px\",\n            marginBottom: \"20px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(_Form, {\n          form: form,\n          component: false,\n          children: /*#__PURE__*/_jsxDEV(_Form, {\n            size: \"large\",\n            form: form,\n            labelCol: {\n              span: 4\n            },\n            onFinish: checkedValues => onSubmit(checkedValues),\n            wrapperCol: {\n              xs: {\n                span: 16,\n                offset: 1\n              },\n              sm: {\n                span: 16,\n                offset: 3\n              },\n              md: {\n                span: 12,\n                offset: 4\n              },\n              lg: {\n                span: 12,\n                offset: 6\n              },\n              xl: {\n                span: 12,\n                offset: 6\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n              name: \"name\",\n              rules: [{\n                required: true,\n                message: \"\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(_Input, {\n                placeholder: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n              name: \"username\",\n              rules: [{\n                required: true,\n                message: \"\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(_Input, {\n                placeholder: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n              name: \"email\",\n              rules: [{\n                type: \"email\",\n                message: \"The input is not valid E-mail!\"\n              }, {\n                required: true,\n                message: \"Please input your E-mail!\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(_Input, {\n                placeholder: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n              name: \"password\",\n              children: /*#__PURE__*/_jsxDEV(_Input, {\n                placeholder: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"red\"\n                },\n                children: props.usersError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n              children: [/*#__PURE__*/_jsxDEV(_Button, {\n                type: \"default\",\n                htmlType: \"submit\",\n                className: \"login-form-button\",\n                onClick: () => router.back(),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"primary\",\n                htmlType: \"submit\",\n                className: \"login-form-button\",\n                style: {\n                  marginLeft: 30\n                },\n                loading: editProfileData.isPending,\n                disabled: uploading,\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 6,\n        xs: 24,\n        sm: 24,\n        md: 6,\n        lg: 6,\n        xl: 6,\n        xxl: 6,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: 20,\n            fontWeight: 600,\n            color: primary_color\n          },\n          children: \"Admin Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"auto\",\n            backgroundColor: primary_color,\n            height: \"2px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 40,\n            marginTop: \"5%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(_Space, {\n            size: 12,\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              width: 200,\n              src: `${URLst}images/${record.image}`,\n              placeholder: /*#__PURE__*/_jsxDEV(Image, {\n                preview: false,\n                src: \"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200\",\n                width: 200\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n\nconst mapStateToProps = state => {\n  return {\n    userData: state.auth,\n    editProfileData: state.editProfile\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    editProfile: checkedValues => dispatch(editProfileAction(checkedValues))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileLayout);","map":{"version":3,"sources":["/home/eleni/Desktop/heniken/Heineken-SalesTraining-Dashboard/Components/ProfilePage/ProfileLayout.js"],"names":["React","useState","useEffect","connect","useRouter","EditOutlined","LoadingOutlined","editProfileAction","URLst","primary_color","FormData","ProfileLayout","editProfileData","userData","editProfile","fileList","setFileList","form","useForm","formData","router","token","setFieldsValue","name","data","username","email","password","success","title","message","onSubmit","checkedValues","imageUrl","padding","fontSize","fontWeight","color","width","backgroundColor","height","marginBottom","span","xs","offset","sm","md","lg","xl","required","type","props","usersError","back","marginLeft","isPending","uploading","marginTop","record","image","mapStateToProps","state","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Avatar,\n  Input,\n  Form,\n  Space,\n  Button,\n  Modal,\n\n  Select\n} from \"antd\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { EditOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { editProfileAction } from \"../../store/Profile/EditProfileAction\";\n// import withAuth from \"../utils/protectRoute\";\nimport URLst,{ primary_color } from \"../utils/constants\";\nimport FormData from \"form-data\";\n\nfunction ProfileLayout({\n  editProfileData,\n  userData,\n\n  editProfile,\n}) {\n  const [fileList, setFileList] = useState([]);\n//   const [uploading, setUploading] = useState(false);\n//   const [imageFile, setImageFile] = useState(\"\");\n//   const [imageUrl, setImageUrl] = useState(\"\");\n  const [form] = Form.useForm();\n  const formData = new FormData();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (userData.token) {\n  \n\n      form.setFieldsValue({\n        name: userData.data.name,\n        username: userData.data.username,\n        email: userData.data.email,\n        password: userData.data.password,\n        \n        \n      });\n    }\n  });\n\n//   const onUploadSuccess = (image) => {\n//     setFileList([]);\n//     image.status = \"done\";\n//     image.url = imageUrl;\n//     image.thumbUrl = imageUrl;\n//     image.percent = 100;\n//     const newFileList = [image];\n//     setFileList(newFileList);\n//   };\n//   const onUploadError = (image) => {\n//     setFileList([]);\n//     image.status = \"error\";\n//     image.url = \"\";\n//     image.thumbUrl = \"\";\n//     image.percent = 0;\n//     const newFileList = [image];\n//     setFileList(newFileList);\n//   };\n//   const uploadImg = async (image) => {\n//     if (image == null) return;\n//     setImageUrl(\"Getting Download Link...\");\n \n//     storage\n//       .ref(`/images/${image.name}`)\n//       .put(image)\n//       .then(() => {\n//         storage\n//           .ref(\"images\")\n//           .child(image.name)\n//           .getDownloadURL()\n//           .then((url) => {\n//             setImageUrl(url);\n//             onUploadSuccess(image);\n//             setUploading(false);\n//           })\n//           .catch((err) => {\n//             setImageUrl(\"\");\n//             onUploadError(image);\n//             setUploading(false);\n//           });\n//       });\n//   };\n\n//   const props = {\n//     onRemove: (file) => {\n//       setFileList([]);\n//     },\n//     onChange: (info) => {\n//       setUploading(true);\n//       setFileList([]);\n//       uploadImg(info.file);\n//     },\n//     beforeUpload: async (file) => {\n//       setImageFile(URL.createObjectURL(file));\n//     },\n//     fileList,\n//   };\n\n  function success() {\n    Modal.success({\n      title: editProfileData.message,\n    });\n  }\n  if (editProfileData.message) {\n    success();\n  }\n  const onSubmit = (checkedValues) => {\n    checkedValues[\"url\"] = imageUrl;\n\n    editProfile(checkedValues);\n  };\n\n  return (\n    <div>\n      <Row>\n        <Col\n          span={18}\n          xs={24}\n          sm={24}\n          md={18}\n          lg={18}\n          xl={18}\n          xxl={18}\n          style={{\n            padding: \"0px 50px\",\n          }}\n        >\n          <h1\n            style={{\n              fontSize: 20,\n              fontWeight: 600,\n              color: primary_color,\n            }}\n          >\n            User Profile\n          </h1>\n          <div\n            style={{\n              width: \"auto\",\n              backgroundColor: primary_color,\n              height: \"2px\",\n              marginBottom: \"20px\",\n            }}\n          ></div>{\" \"}\n          <Form form={form} component={false}>\n\n        <Form\n          size=\"large\"\n          form={form}\n          labelCol={{ span: 4 }}\n          onFinish={(checkedValues) => onSubmit(checkedValues)}\n          wrapperCol={{\n            xs: { span: 16, offset: 1 },\n            sm: { span: 16, offset: 3 },\n            md: { span: 12, offset: 4 },\n            lg: { span: 12, offset: 6 },\n            xl: { span: 12, offset: 6 },\n          }}\n        >\n         \n          <Form.Item name=\"name\"\n           rules={[{ required: true, message: \"\" }]}>\n            <Input placeholder=\"Name\" />\n          </Form.Item>\n\n          <Form.Item name=\"username\"\n          rules={[{ required: true, message: \"\" }]}>\n            <Input placeholder=\"Username\" />\n          </Form.Item>\n        <Form.Item\n            name=\"email\"\n            rules={[\n              {\n                type: \"email\",\n                message: \"The input is not valid E-mail!\",\n              },\n              {\n                required: true,\n                message: \"Please input your E-mail!\",\n              },\n            ]}\n          >\n            <Input placeholder=\"Email\" />\n          </Form.Item>\n          <Form.Item name=\"password\">\n            <Input placeholder=\"Password\" />\n          </Form.Item>\n          <Form.Item>\n            <p style={{ color: \"red\" }}>{props.usersError}</p>\n          </Form.Item>\n\n          <Form.Item>\n            <Button\n              type=\"default\"\n              htmlType=\"submit\"\n              className=\"login-form-button\"\n              onClick={() => router.back()}\n            >\n              Cancel\n            </Button>\n\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              className=\"login-form-button\"\n              style={{ marginLeft: 30 }}\n              loading={editProfileData.isPending}\n              disabled={uploading}\n            >\n              Submit\n            </Button>\n           \n          </Form.Item>\n        </Form>\n        </Form>\n        </Col>\n        <Col span={6} xs={24} sm={24} md={6} lg={6} xl={6} xxl={6}>\n          <h1\n            style={{\n              fontSize: 20,\n              fontWeight: 600,\n              color: primary_color,\n            }}\n          >\n            Admin Profile\n          </h1>\n          <div\n            style={{\n              width: \"auto\",\n              backgroundColor: primary_color,\n              height: \"2px\",\n            }}\n          ></div>\n\n<div style={{ marginBottom: 40, marginTop: \"5%\" }}>\n            {/* <Upload\n              {...props}\n              showUploadList={{\n                showRemoveIcon: false,\n                showPreviewIcon: false,\n                showDownloadIcon: false,\n              }}\n              accept=\".jpg, .jpeg, .png\"\n            >\n              <Space align=\"end\">\n                <Avatar\n                  offset={5}\n                  size={{ xs: 80, sm: 80, md: 100, lg: 140, xl: 140, xxl: 140 }}\n                  src={uploading ? \"\" : imageFile}\n                >\n                  {uploading ? (\n                    <LoadingOutlined style={{ color: \"blue\" }} />\n                  ) : (\n                    \"Profile\"\n                  )}\n                </Avatar> */}\n                 <Space size={12}>\n      <Image\n        width={200}\n        src={`${URLst}images/${record.image}`}\n        placeholder={\n          <Image\n            preview={false}\n            src=\"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200\"\n            width={200}\n          />\n        }\n      />\n                <EditOutlined />\n              </Space>\n            {/* </Upload>  */}\n          </div>\n        </Col>\n      </Row>\n\n      </div>\n\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    userData: state.auth,\n    editProfileData: state.editProfile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editProfile: (checkedValues) =>\n      dispatch(editProfileAction(checkedValues)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileLayout);"]},"metadata":{},"sourceType":"module"}