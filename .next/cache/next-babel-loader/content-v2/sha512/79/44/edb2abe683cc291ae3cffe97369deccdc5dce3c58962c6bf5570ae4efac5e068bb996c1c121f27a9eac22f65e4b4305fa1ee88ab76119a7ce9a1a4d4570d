{"ast":null,"code":"import axios from \"axios\";\nimport * as actionTypes from \"./avatar_actionTypes\";\nimport URLst from \"../../utils/constants\";\nexport var avatarStart = function avatarStart() {\n  return {\n    type: actionTypes.AVATAR_START\n  };\n};\nexport var avatarCreateSuccess = function avatarCreateSuccess(data) {\n  return {\n    type: actionTypes.AVATAR_CREATE_SUCCESS,\n    data: data\n  };\n};\nexport var avatarGetSuccess = function avatarGetSuccess(data) {\n  return {\n    type: actionTypes.AVATAR_GET_SUCCESS,\n    data: data\n  };\n};\nexport var avatarEditSuccess = function avatarEditSuccess(data) {\n  return {\n    type: actionTypes.AVATAR_EDIT_SUCCESS,\n    data: data\n  };\n};\nexport var avatarDeleteSuccess = function avatarDeleteSuccess(data) {\n  return {\n    type: actionTypes.AVATAR_DELETE_SUCCESS,\n    data: data\n  };\n}; // AVATAR_DELETE_SUCCESS\n\nexport var avatarFail = function avatarFail(error) {\n  return {\n    type: actionTypes.AVATAR_FAIL,\n    error: error\n  };\n};\nexport var avatarEdit = function avatarEdit(formData, id) {\n  console.log(id);\n  console.log(formData);\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch) {\n    console.log(\"jkkkkkkkkk\");\n    dispatch(avatarStart());\n    axios.patch(URLst + \"v1/avatars/\".concat(id), formData, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch(avatarEditSuccess(res.data));\n    })[\"catch\"](function (err) {\n      console.log(err);\n      var errorData;\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      dispatch(avatarFail(errorData));\n    });\n  };\n};\nexport var avatarCreate = function avatarCreate(formData) {\n  return function (dispatch) {\n    dispatch(avatarStart());\n    var token = localStorage.getItem(\"token\");\n    axios.post(URLst + \"v1/avatars\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch(avatarCreateSuccess(res.data));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      dispatch(avatarFail(errorData));\n    });\n  };\n};\nexport var avatarGet = function avatarGet() {\n  return function (dispatch) {\n    dispatch(avatarStart());\n    var token = localStorage.getItem(\"token\");\n    axios.get(URLst + \"v1/avatars\", {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch(avatarGetSuccess(res.data.results));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      dispatch(avatarFail(errorData));\n    });\n  };\n};\nexport var avatarDelete = function avatarDelete(id, users) {\n  var filtereddata = users.filter(function (item) {\n    return item.id !== id;\n  });\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch) {\n    dispatch(avatarStart());\n    axios({\n      method: \"delete\",\n      url: URLst + \"v1/avatars/\".concat(id),\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res); // dispatch(deleteUserSuccess({ id: id }));\n      // dispatch(avatarDeleteSuccess(res.data.results));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      dispatch(avatarFail(errorData));\n    });\n  };\n}; // export const avatarDelete = (id) => {\n//   console.log(id)\n//   return (dispatch) => {\n//     dispatch(avatarStart());\n//     const token = localStorage.getItem(\"token\");\n//     axios\n//       .delete(URLst + `v1/avatars/${id}`, {\n//         headers: {\n//           Authorization: `Bearer ${token}`,\n//         },\n//       })\n//       .then((res) => {\n//         console.log(\"res.data\");\n//         // dispatch(avatarDeleteSuccess(res.data.results));\n//       })\n//       .catch((err) => {\n//         var errorData;\n//         if (err.response != null) {\n//           errorData = err.response.data.message;\n//         } else {\n//           errorData = err.message;\n//         }\n//         dispatch(avatarFail(errorData));\n//       });\n//   };\n// };","map":null,"metadata":{},"sourceType":"module"}