{"ast":null,"code":"import _toConsumableArray from \"/Users/eyasu/Desktop/leanbits/Heineken-SalesTraining-Dashboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from \"axios\";\nimport URLst, { handle401 } from \"../../utils/constants\";\nimport * as actionTypes from \"./allUsersActionTypes\";\nexport var alluserPending = function alluserPending() {\n  return {\n    type: actionTypes.ALL_USER_PENDING,\n    isPending: true\n  };\n};\nexport var alluserSuccess = function alluserSuccess(data) {\n  return {\n    type: actionTypes.ALL_USER_SUCCESS,\n    isPending: false,\n    data: data.results,\n    count: data.totalResults\n  };\n};\nexport var userCreateSuccess = function userCreateSuccess(data) {\n  return {\n    type: actionTypes.CREATE_USER_SUCCESS,\n    data: data\n  };\n};\nexport var updateUserSuccess = function updateUserSuccess(data) {\n  return {\n    type: actionTypes.UPDATE_USER_SUCCESS,\n    isPending: false,\n    data: data\n  };\n};\nexport var deleteUserSuccess = function deleteUserSuccess(data) {\n  return {\n    type: actionTypes.DELETE_USER_SUCCESS,\n    isPending: false,\n    data: data\n  };\n};\nexport var alluserFail = function alluserFail(error) {\n  return {\n    type: actionTypes.ALL_USER_FAILED,\n    error: error,\n    isPending: false\n  };\n};\nexport var getAllUserSuccess = function getAllUserSuccess(limit, page) {\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch) {\n    dispatch(alluserPending());\n    axios({\n      method: \"get\",\n      url: URLst + \"v1/users?limit=\".concat(limit, \"&page=\").concat(page),\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch(alluserSuccess(res.data));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      console.log(errorData);\n      dispatch(alluserFail(errorData));\n    });\n  };\n};\nexport var UserCreate = function UserCreate(formData) {\n  return function (dispatch) {\n    dispatch(alluserPending());\n    var token = localStorage.getItem(\"token\");\n    axios.post(URLst + \"v1/users\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch(userCreateSuccess(res.data));\n    })[\"catch\"](function (err) {\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      var errorData;\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      console.log(errorData);\n      dispatch(alluserFail(errorData));\n    });\n  };\n};\n_c = UserCreate;\nexport var AllUserEdit = function AllUserEdit(id, users, edited) {\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch, getState) {\n    dispatch(alluserPending());\n    delete edited.role;\n    delete edited.username;\n    axios({\n      method: \"patch\",\n      url: URLst + \"v1/users/\".concat(id),\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      },\n      data: edited\n    }).then(function (res) {\n      var newData = _toConsumableArray(users);\n\n      var index = newData.findIndex(function (av) {\n        return av.id === res.data.id;\n      });\n      newData[index] = res.data;\n      dispatch(updateUserSuccess(newData));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      console.log(errorData);\n      dispatch(alluserFail(errorData));\n    });\n  };\n};\n_c2 = AllUserEdit;\nexport var AllUserDelete = function AllUserDelete(id, users) {\n  var filtereddata = users.filter(function (item) {\n    return item.id !== id;\n  });\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch) {\n    dispatch(alluserPending());\n    axios({\n      method: \"delete\",\n      url: URLst + \"v1/users/\".concat(id),\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      dispatch(deleteUserSuccess(filtereddata));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      dispatch(alluserFail(errorData));\n    });\n  };\n};\n_c3 = AllUserDelete;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"UserCreate\");\n$RefreshReg$(_c2, \"AllUserEdit\");\n$RefreshReg$(_c3, \"AllUserDelete\");","map":{"version":3,"sources":["/Users/eyasu/Desktop/leanbits/Heineken-SalesTraining-Dashboard/store/Users/allUsersAction.js"],"names":["axios","URLst","handle401","actionTypes","alluserPending","type","ALL_USER_PENDING","isPending","alluserSuccess","data","ALL_USER_SUCCESS","results","count","totalResults","userCreateSuccess","CREATE_USER_SUCCESS","updateUserSuccess","UPDATE_USER_SUCCESS","deleteUserSuccess","DELETE_USER_SUCCESS","alluserFail","error","ALL_USER_FAILED","getAllUserSuccess","limit","page","token","localStorage","getItem","dispatch","method","url","headers","Authorization","then","res","console","log","err","errorData","response","code","message","UserCreate","formData","post","AllUserEdit","id","users","edited","getState","role","username","newData","index","findIndex","av","AllUserDelete","filtereddata","filter","item"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,uBAAjC;AACA,OAAO,KAAKC,WAAZ,MAA6B,uBAA7B;AAEA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAClC,SAAO;AACLC,IAAAA,IAAI,EAAEF,WAAW,CAACG,gBADb;AAELC,IAAAA,SAAS,EAAE;AAFN,GAAP;AAID,CALM;AAMP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AACtC,SAAO;AACLJ,IAAAA,IAAI,EAAEF,WAAW,CAACO,gBADb;AAELH,IAAAA,SAAS,EAAE,KAFN;AAGLE,IAAAA,IAAI,EAAEA,IAAI,CAACE,OAHN;AAILC,IAAAA,KAAK,EAAEH,IAAI,CAACI;AAJP,GAAP;AAMD,CAPM;AASP,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACL,IAAD,EAAU;AACzC,SAAO;AACLJ,IAAAA,IAAI,EAAEF,WAAW,CAACY,mBADb;AAELN,IAAAA,IAAI,EAAEA;AAFD,GAAP;AAID,CALM;AAOP,OAAO,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACP,IAAD,EAAU;AACzC,SAAO;AACLJ,IAAAA,IAAI,EAAEF,WAAW,CAACc,mBADb;AAELV,IAAAA,SAAS,EAAE,KAFN;AAGLE,IAAAA,IAAI,EAAEA;AAHD,GAAP;AAKD,CANM;AAQP,OAAO,IAAMS,iBAAiB,GAAG,SAApBA,iBAAoB,CAACT,IAAD,EAAU;AACzC,SAAO;AACLJ,IAAAA,IAAI,EAAEF,WAAW,CAACgB,mBADb;AAELZ,IAAAA,SAAS,EAAE,KAFN;AAGLE,IAAAA,IAAI,EAAEA;AAHD,GAAP;AAKD,CANM;AAQP,OAAO,IAAMW,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AACpC,SAAO;AACLhB,IAAAA,IAAI,EAAEF,WAAW,CAACmB,eADb;AAELD,IAAAA,KAAK,EAAEA,KAFF;AAGLd,IAAAA,SAAS,EAAE;AAHN,GAAP;AAKD,CANM;AAQP,OAAO,IAAMgB,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAQC,IAAR,EAAiB;AAChD,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,UAACC,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACzB,cAAc,EAAf,CAAR;AAEAJ,IAAAA,KAAK,CAAC;AACJ8B,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,EAAE9B,KAAK,4BAAqBuB,KAArB,mBAAmCC,IAAnC,CAFN;AAGJO,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYP,KAAZ;AADN;AAHL,KAAD,CAAL,CAOGQ,IAPH,CAOQ,UAACC,GAAD,EAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAAC1B,IAAhB;AACAoB,MAAAA,QAAQ,CAACrB,cAAc,CAAC2B,GAAG,CAAC1B,IAAL,CAAf,CAAR;AACD,KAVH,WAWS,UAAC6B,GAAD,EAAS;AACd,UAAIC,SAAJ;;AACA,UAAID,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBgC,IAAlB,IAA0B,GAA9B,EAAmC;AACjCvC,QAAAA,SAAS;AACV;;AACD,UAAIoC,GAAG,CAACE,QAAJ,IAAgB,IAApB,EAA0B;AACxBD,QAAAA,SAAS,GAAGD,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBiC,OAA9B;AACD,OAFD,MAEO;AACLH,QAAAA,SAAS,GAAGD,GAAG,CAACI,OAAhB;AACD;;AACDN,MAAAA,OAAO,CAACC,GAAR,CAAYE,SAAZ;AACAV,MAAAA,QAAQ,CAACT,WAAW,CAACmB,SAAD,CAAZ,CAAR;AACD,KAvBH;AAwBD,GA3BD;AA4BD,CA9BM;AAgCP,OAAO,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACC,QAAD,EAAc;AACtC,SAAO,UAACf,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACzB,cAAc,EAAf,CAAR;AACA,QAAMsB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA5B,IAAAA,KAAK,CACF6C,IADH,CACQ5C,KAAK,GAAG,UADhB,EAC4B2C,QAD5B,EACsC;AAClCZ,MAAAA,OAAO,EAAE;AACP,wBAAgB,qBADT;AAEPC,QAAAA,aAAa,mBAAYP,KAAZ;AAFN;AADyB,KADtC,EAOGQ,IAPH,CAOQ,UAACC,GAAD,EAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAAC1B,IAAhB;AAEAoB,MAAAA,QAAQ,CAACf,iBAAiB,CAACqB,GAAG,CAAC1B,IAAL,CAAlB,CAAR;AACD,KAXH,WAYS,UAAC6B,GAAD,EAAS;AACd,UAAIA,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBgC,IAAlB,IAA0B,GAA9B,EAAmC;AACjCvC,QAAAA,SAAS;AACV;;AAED,UAAIqC,SAAJ;;AACA,UAAID,GAAG,CAACE,QAAJ,IAAgB,IAApB,EAA0B;AACxBD,QAAAA,SAAS,GAAGD,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBiC,OAA9B;AACD,OAFD,MAEO;AACLH,QAAAA,SAAS,GAAGD,GAAG,CAACI,OAAhB;AACD;;AACDN,MAAAA,OAAO,CAACC,GAAR,CAAYE,SAAZ;AACAV,MAAAA,QAAQ,CAACT,WAAW,CAACmB,SAAD,CAAZ,CAAR;AACD,KAzBH;AA0BD,GA7BD;AA8BD,CA/BM;KAAMI,U;AAiCb,OAAO,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAACC,EAAD,EAAKC,KAAL,EAAYC,MAAZ,EAAuB;AAChD,MAAMvB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEA,SAAO,UAACC,QAAD,EAAWqB,QAAX,EAAwB;AAC7BrB,IAAAA,QAAQ,CAACzB,cAAc,EAAf,CAAR;AACA,WAAO6C,MAAM,CAACE,IAAd;AACA,WAAOF,MAAM,CAACG,QAAd;AAEApD,IAAAA,KAAK,CAAC;AACJ8B,MAAAA,MAAM,EAAE,OADJ;AAEJC,MAAAA,GAAG,EAAE9B,KAAK,sBAAe8C,EAAf,CAFN;AAGJf,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYP,KAAZ;AADN,OAHL;AAMJjB,MAAAA,IAAI,EAAEwC;AANF,KAAD,CAAL,CAQGf,IARH,CAQQ,UAACC,GAAD,EAAS;AACb,UAAIkB,OAAO,sBAAOL,KAAP,CAAX;;AACA,UAAIM,KAAK,GAAGD,OAAO,CAACE,SAAR,CAAkB,UAACC,EAAD;AAAA,eAAQA,EAAE,CAACT,EAAH,KAAUZ,GAAG,CAAC1B,IAAJ,CAASsC,EAA3B;AAAA,OAAlB,CAAZ;AAEAM,MAAAA,OAAO,CAACC,KAAD,CAAP,GAAiBnB,GAAG,CAAC1B,IAArB;AAEAoB,MAAAA,QAAQ,CAACb,iBAAiB,CAACqC,OAAD,CAAlB,CAAR;AACD,KAfH,WAgBS,UAACf,GAAD,EAAS;AACd,UAAIC,SAAJ;;AACA,UAAID,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBgC,IAAlB,IAA0B,GAA9B,EAAmC;AACjCvC,QAAAA,SAAS;AACV;;AACD,UAAIoC,GAAG,CAACE,QAAJ,IAAgB,IAApB,EAA0B;AACxBD,QAAAA,SAAS,GAAGD,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBiC,OAA9B;AACD,OAFD,MAEO;AACLH,QAAAA,SAAS,GAAGD,GAAG,CAACI,OAAhB;AACD;;AACDN,MAAAA,OAAO,CAACC,GAAR,CAAYE,SAAZ;AACAV,MAAAA,QAAQ,CAACT,WAAW,CAACmB,SAAD,CAAZ,CAAR;AACD,KA5BH;AA6BD,GAlCD;AAmCD,CAtCM;MAAMO,W;AAwCb,OAAO,IAAMW,aAAa,GAAG,SAAhBA,aAAgB,CAACV,EAAD,EAAKC,KAAL,EAAe;AAC1C,MAAIU,YAAY,GAAGV,KAAK,CAACW,MAAN,CAAa,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACb,EAAL,KAAYA,EAAtB;AAAA,GAAb,CAAnB;AACA,MAAIrB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,UAACC,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACzB,cAAc,EAAf,CAAR;AAEAJ,IAAAA,KAAK,CAAC;AACJ8B,MAAAA,MAAM,EAAE,QADJ;AAEJC,MAAAA,GAAG,EAAE9B,KAAK,sBAAe8C,EAAf,CAFN;AAGJf,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYP,KAAZ;AADN;AAHL,KAAD,CAAL,CAOGQ,IAPH,CAOQ,UAACC,GAAD,EAAS;AACbN,MAAAA,QAAQ,CAACX,iBAAiB,CAACwC,YAAD,CAAlB,CAAR;AACD,KATH,WAUS,UAACpB,GAAD,EAAS;AACd,UAAIC,SAAJ;;AACA,UAAID,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBgC,IAAlB,IAA0B,GAA9B,EAAmC;AACjCvC,QAAAA,SAAS;AACV;;AACD,UAAIoC,GAAG,CAACE,QAAJ,IAAgB,IAApB,EAA0B;AACxBD,QAAAA,SAAS,GAAGD,GAAG,CAACE,QAAJ,CAAa/B,IAAb,CAAkBiC,OAA9B;AACD,OAFD,MAEO;AACLH,QAAAA,SAAS,GAAGD,GAAG,CAACI,OAAhB;AACD;;AACDb,MAAAA,QAAQ,CAACT,WAAW,CAACmB,SAAD,CAAZ,CAAR;AACD,KArBH;AAsBD,GAzBD;AA0BD,CA7BM;MAAMkB,a","sourcesContent":["import axios from \"axios\";\nimport URLst, { handle401 } from \"../../utils/constants\";\nimport * as actionTypes from \"./allUsersActionTypes\";\n\nexport const alluserPending = () => {\n  return {\n    type: actionTypes.ALL_USER_PENDING,\n    isPending: true,\n  };\n};\nexport const alluserSuccess = (data) => {\n  return {\n    type: actionTypes.ALL_USER_SUCCESS,\n    isPending: false,\n    data: data.results,\n    count: data.totalResults,\n  };\n};\n\nexport const userCreateSuccess = (data) => {\n  return {\n    type: actionTypes.CREATE_USER_SUCCESS,\n    data: data,\n  };\n};\n\nexport const updateUserSuccess = (data) => {\n  return {\n    type: actionTypes.UPDATE_USER_SUCCESS,\n    isPending: false,\n    data: data,\n  };\n};\n\nexport const deleteUserSuccess = (data) => {\n  return {\n    type: actionTypes.DELETE_USER_SUCCESS,\n    isPending: false,\n    data: data,\n  };\n};\n\nexport const alluserFail = (error) => {\n  return {\n    type: actionTypes.ALL_USER_FAILED,\n    error: error,\n    isPending: false,\n  };\n};\n\nexport const getAllUserSuccess = (limit, page) => {\n  var token = localStorage.getItem(\"token\");\n  return (dispatch) => {\n    dispatch(alluserPending());\n\n    axios({\n      method: \"get\",\n      url: URLst + `v1/users?limit=${limit}&page=${page}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        console.log(res.data);\n        dispatch(alluserSuccess(res.data));\n      })\n      .catch((err) => {\n        var errorData;\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        console.log(errorData);\n        dispatch(alluserFail(errorData));\n      });\n  };\n};\n\nexport const UserCreate = (formData) => {\n  return (dispatch) => {\n    dispatch(alluserPending());\n    const token = localStorage.getItem(\"token\");\n    axios\n      .post(URLst + \"v1/users\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res.data);\n\n        dispatch(userCreateSuccess(res.data));\n      })\n      .catch((err) => {\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n\n        var errorData;\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        console.log(errorData);\n        dispatch(alluserFail(errorData));\n      });\n  };\n};\n\nexport const AllUserEdit = (id, users, edited) => {\n  const token = localStorage.getItem(\"token\");\n\n  return (dispatch, getState) => {\n    dispatch(alluserPending());\n    delete edited.role;\n    delete edited.username;\n\n    axios({\n      method: \"patch\",\n      url: URLst + `v1/users/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      data: edited,\n    })\n      .then((res) => {\n        let newData = [...users];\n        let index = newData.findIndex((av) => av.id === res.data.id);\n\n        newData[index] = res.data;\n\n        dispatch(updateUserSuccess(newData));\n      })\n      .catch((err) => {\n        var errorData;\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        console.log(errorData);\n        dispatch(alluserFail(errorData));\n      });\n  };\n};\n\nexport const AllUserDelete = (id, users) => {\n  var filtereddata = users.filter((item) => item.id !== id);\n  var token = localStorage.getItem(\"token\");\n  return (dispatch) => {\n    dispatch(alluserPending());\n\n    axios({\n      method: \"delete\",\n      url: URLst + `v1/users/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        dispatch(deleteUserSuccess(filtereddata));\n      })\n      .catch((err) => {\n        var errorData;\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        dispatch(alluserFail(errorData));\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}