{"ast":null,"code":"import _regeneratorRuntime from \"/Users/eyasu/Desktop/leanbits/Heineken-SalesTraining-Dashboard/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/eyasu/Desktop/leanbits/Heineken-SalesTraining-Dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/eyasu/Desktop/leanbits/Heineken-SalesTraining-Dashboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from \"axios\";\nimport URLst, { handle401 } from \"../../utils/constants\";\nimport * as actionTypes from \"./moduleActionTypes\";\nimport { AddModuleToCourse } from \"../Courses/courseAction\";\nexport var allmodulePending = function allmodulePending() {\n  return {\n    type: actionTypes.MODULE_PENDING,\n    isPending: true\n  };\n};\nexport var allmoduleSuccess = function allmoduleSuccess(data) {\n  return {\n    type: actionTypes.MODULE_SUCCESS,\n    isPending: false,\n    data: data.results,\n    count: data.totalResults\n  };\n};\nexport var moduleCreateSuccess = function moduleCreateSuccess(data) {\n  return {\n    type: actionTypes.CREATE_MODULE_SUCCESS,\n    data: data\n  };\n};\nexport var updateModuleSuccess = function updateModuleSuccess(data) {\n  return {\n    type: actionTypes.UPDATE_MODULE_SUCCESS,\n    isPending: false,\n    data: data\n  };\n};\nexport var deleteModuleSuccess = function deleteModuleSuccess(data) {\n  return {\n    type: actionTypes.DELETE_MODULE_SUCCESS,\n    isPending: false,\n    data: data\n  };\n};\nexport var allmoduleFail = function allmoduleFail(error) {\n  return {\n    type: actionTypes.MODULE_FAILED,\n    error: error,\n    isPending: false\n  };\n};\nexport var getAllModuleSuccess = function getAllModuleSuccess(limit, page) {\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch) {\n    dispatch(allmodulePending());\n    axios({\n      method: \"get\",\n      url: URLst + \"v1/modules?limit=\".concat(limit, \"&page=\").concat(page),\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch(allmoduleSuccess(res.data));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      console.log(errorData);\n      dispatch(allmoduleFail(errorData));\n    });\n  };\n};\nexport var moduleCreate = function moduleCreate(courseid, formData, modules) {\n  return function (dispatch) {\n    dispatch(allmodulePending());\n    var token = localStorage.getItem(\"token\");\n    axios.post(URLst + \"v1/modules\", formData, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      AddModuleToCourse(courseid, res.data.id, modules).then(function (result) {\n        console.log(result);\n\n        if (result == 200) {\n          dispatch(moduleCreateSuccess(res.data));\n        }\n      });\n    })[\"catch\"](function (err) {\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      var errorData;\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      console.log(errorData);\n      dispatch(allmoduleFail(errorData));\n    });\n  };\n};\nexport var AllModuleEdit = function AllModuleEdit(id, modules, edited) {\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch, getState) {\n    dispatch(allmodulePending());\n    axios({\n      method: \"patch\",\n      url: URLst + \"v1/modules/\".concat(id),\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      },\n      data: edited\n    }).then(function (res) {\n      var newData = _toConsumableArray(modules);\n\n      var index = newData.findIndex(function (av) {\n        return av.id === res.data.id;\n      });\n      newData[index].title = edited.title;\n      newData[index].summary = edited.summary;\n      newData[index].order = edited.order;\n      dispatch(updateModuleSuccess(newData));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      console.log(errorData);\n      dispatch(allmoduleFail(errorData));\n    });\n  };\n};\n_c = AllModuleEdit;\nexport var AllModuleDelete = function AllModuleDelete(id, modules) {\n  var filtereddata = modules.filter(function (item) {\n    return item.id !== id;\n  });\n  var token = localStorage.getItem(\"token\");\n  return function (dispatch) {\n    dispatch(allmodulePending());\n    axios({\n      method: \"delete\",\n      url: URLst + \"v1/modules/\".concat(id),\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      dispatch(deleteModuleSuccess(filtereddata));\n    })[\"catch\"](function (err) {\n      var errorData;\n\n      if (err.response.data.code == 401) {\n        handle401();\n      }\n\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n\n      dispatch(allmoduleFail(errorData));\n    });\n  };\n};\n_c2 = AllModuleDelete;\nexport var AddLessonToModule = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(moduleid, lessonid, lessons) {\n    var token, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            token = localStorage.getItem(\"token\");\n            _context.next = 3;\n            return axios({\n              method: \"patch\",\n              url: URLst + \"v1/modules/\".concat(moduleid),\n              headers: {\n                Authorization: \"Bearer \".concat(token)\n              },\n              data: {\n                'lessons': [].concat(_toConsumableArray(lessons), [lessonid])\n              }\n            }).then(function (res) {\n              console.log(res.data);\n              return 200;\n            })[\"catch\"](function (err) {\n              var errorData;\n\n              if (err.response != null) {\n                errorData = err.response.data.message;\n              } else {\n                errorData = err.message;\n              }\n\n              console.log(errorData);\n              return 400;\n            });\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", res);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function AddLessonToModule(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n_c3 = AddLessonToModule;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AllModuleEdit\");\n$RefreshReg$(_c2, \"AllModuleDelete\");\n$RefreshReg$(_c3, \"AddLessonToModule\");","map":{"version":3,"sources":["/Users/eyasu/Desktop/leanbits/Heineken-SalesTraining-Dashboard/store/Modules/moduleAction.js"],"names":["axios","URLst","handle401","actionTypes","AddModuleToCourse","allmodulePending","type","MODULE_PENDING","isPending","allmoduleSuccess","data","MODULE_SUCCESS","results","count","totalResults","moduleCreateSuccess","CREATE_MODULE_SUCCESS","updateModuleSuccess","UPDATE_MODULE_SUCCESS","deleteModuleSuccess","DELETE_MODULE_SUCCESS","allmoduleFail","error","MODULE_FAILED","getAllModuleSuccess","limit","page","token","localStorage","getItem","dispatch","method","url","headers","Authorization","then","res","console","log","err","errorData","response","code","message","moduleCreate","courseid","formData","modules","post","id","result","AllModuleEdit","edited","getState","newData","index","findIndex","av","title","summary","order","AllModuleDelete","filtereddata","filter","item","AddLessonToModule","moduleid","lessonid","lessons"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport URLst, { handle401 } from \"../../utils/constants\";\nimport * as actionTypes from \"./moduleActionTypes\";\nimport { AddModuleToCourse } from \"../Courses/courseAction\";\n\nexport const allmodulePending = () => {\n  return {\n    type: actionTypes.MODULE_PENDING,\n    isPending: true,\n  };\n};\nexport const allmoduleSuccess = (data) => {\n  return {\n    type: actionTypes.MODULE_SUCCESS,\n    isPending: false,\n    data: data.results,\n    count: data.totalResults,\n  };\n};\n\nexport const moduleCreateSuccess = (data) => {\n  return {\n    type: actionTypes.CREATE_MODULE_SUCCESS,\n    data: data,\n  };\n};\n\nexport const updateModuleSuccess = (data) => {\n  return {\n    type: actionTypes.UPDATE_MODULE_SUCCESS,\n    isPending: false,\n    data: data,\n  };\n};\n\nexport const deleteModuleSuccess = (data) => {\n  return {\n    type: actionTypes.DELETE_MODULE_SUCCESS,\n    isPending: false,\n    data: data,\n  };\n};\n\nexport const allmoduleFail = (error) => {\n  return {\n    type: actionTypes.MODULE_FAILED,\n    error: error,\n    isPending: false,\n  };\n};\n\nexport const getAllModuleSuccess = (limit, page) => {\n  var token = localStorage.getItem(\"token\");\n  return (dispatch) => {\n    dispatch(allmodulePending());\n\n    axios({\n      method: \"get\",\n      url: URLst + `v1/modules?limit=${limit}&page=${page}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        console.log(res.data);\n        dispatch(allmoduleSuccess(res.data));\n      })\n      .catch((err) => {\n        var errorData;\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        console.log(errorData);\n        dispatch(allmoduleFail(errorData));\n      });\n  };\n};\n\nexport const moduleCreate = (courseid, formData, modules) => {\n  return (dispatch) => {\n    dispatch(allmodulePending());\n    const token = localStorage.getItem(\"token\");\n    axios\n      .post(\n        URLst + \"v1/modules\",\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then((res) => {\n        console.log(res.data);\n        AddModuleToCourse(courseid, res.data.id, modules).then((result) => {\n          console.log(result);\n          if (result==200) {\n            dispatch(moduleCreateSuccess(res.data));\n          }\n          \n        });\n\n        \n      })\n      .catch((err) => {\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n\n        var errorData;\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        console.log(errorData);\n        dispatch(allmoduleFail(errorData));\n      });\n  };\n};\n\nexport const AllModuleEdit = (id, modules, edited) => {\n  const token = localStorage.getItem(\"token\");\n\n  return (dispatch, getState) => {\n    dispatch(allmodulePending());\n\n    axios({\n      method: \"patch\",\n      url: URLst + `v1/modules/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      data: edited,\n    })\n      .then((res) => {\n        let newData = [...modules];\n        let index = newData.findIndex((av) => av.id === res.data.id);\n         newData[index].title = edited.title;\n        newData[index].summary = edited.summary;\n        newData[index].order = edited.order;\n\n\n        dispatch(updateModuleSuccess(newData));\n      })\n      .catch((err) => {\n        var errorData;\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        console.log(errorData);\n        dispatch(allmoduleFail(errorData));\n      });\n  };\n};\n\nexport const AllModuleDelete = (id, modules) => {\n  var filtereddata = modules.filter((item) => item.id !== id);\n  var token = localStorage.getItem(\"token\");\n  return (dispatch) => {\n    dispatch(allmodulePending());\n\n    axios({\n      method: \"delete\",\n      url: URLst + `v1/modules/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        dispatch(deleteModuleSuccess(filtereddata));\n      })\n      .catch((err) => {\n        var errorData;\n        if (err.response.data.code == 401) {\n          handle401();\n        }\n        if (err.response != null) {\n          errorData = err.response.data.message;\n        } else {\n          errorData = err.message;\n        }\n        dispatch(allmoduleFail(errorData));\n      });\n  };\n};\nexport const AddLessonToModule = async (moduleid, lessonid, lessons) => {\n  const token = localStorage.getItem(\"token\");\n\n  let res = await axios({\n    method: \"patch\",\n    url: URLst + `v1/modules/${moduleid}`,\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n    data: {\n      'lessons': [...lessons, lessonid],\n    },\n  })\n    .then((res) => {\n      console.log(res.data);\n      return 200;\n    })\n    .catch((err) => {\n      let errorData;\n      if (err.response != null) {\n        errorData = err.response.data.message;\n      } else {\n        errorData = err.message;\n      }\n      console.log(errorData);\n      return 400;\n    });\n\n  return res;\n};\n"]},"metadata":{},"sourceType":"module"}